<div align="center">

<h1>๐ ูุนุงู ุณุงุฒ ุชุงูู ูฺฉุฑูุชฺฉ ุจู ุงูุจููุชู ุจุง GRE (IPv4 & IPv6) ๐</h1>

<p><strong>ุจุง ุงู ุขููุฒุด ูโุชูู ุจู ูฺฉุฑูุชฺฉ ู ุณุฑูุฑ ุงูุจููุชู ู ุชุงูู ุงูู ู ูพุงุฏุงุฑ ุฑุงูโุงูุฏุงุฒ ฺฉู</strong></p>

</div>

---

<p><strong>๐ฅ ุชุงูู GRE ุจุฑ ุฑู IPv4 ๐ฅ</strong></p>

โจ ุงุฒ ููุงู ุงุจุชุฏุง ฺฉุงุฑ ูุงู ุฑู ุงุฌุงุฏ ูฺฉูู ฺฉู ุฏุฑ ุฏุงุฎู ุขู ุฏุณุชูุฑุงุช ูุฑุงุฑ ฺฏุฑูุชู ู ูพุณ ุงุฒ ุฐุฎุฑู ุณุงุฒ ุฎูุฏฺฉุงุฑ ูุงู ุงุฌุฑุง ูุดูุฏ ู ุฏุณุชูุฑุงุช ุฏุฑ ุณุฑูุฑ ูุฏูุธุฑ ุงุนูุงู ุฎูุงูุฏ ุดุฏ ู ุฒูุงู ฺฉู ุณุณุชู ุฑุณุชุงุฑุช ูุดูุฏ ูู ุงู ูุงู ุฏูุจุงุฑู ุฎูุฏฺฉุงุฑ ุงุฌุฑุง ู ุชุงูู ุงุฌุงุฏ ูุดูุฏ.

---

## ๐ ูุญูู ุงุณุชูุงุฏู

### โ 1. ุณุฑูุฑ ุฎุงุฑุฌ (ุงูุจููุชู)

- ุงุจุชุฏุง ุจุง ุฏุณุชูุฑ ุฒุฑ ูุงู `rc.local` ุฑู ุงุฌุงุฏ ูฺฉูู ู ุจูุด ุงุฌุงุฒู ุฏุณุชุฑุณ ุจุนุฏ ุงุฒ ูุฑ ุจุงุฑ ุฑุณุชุงุฑุช ุดุฏู ุณุฑูุฑ ุฑู ูุฏูู:
```shell
sudo nano /etc/rc.local && sudo chmod +x /etc/rc.local && sudo bash /etc/rc.local
```
- ูุชู ุฒุฑ ุฑุง ุฏุฑ ูุงู ูุฑุงุฑ ูโุฏูู ู ูุงู ุฑู ุฐุฎุฑู ูโฺฉูู:
>โ๏ธ ูฺฉุชู: `[IPv4-IRAN]` = ุขโูพ ูพุงุจูฺฉ ุงุฑุงู | `[IPv4-KHAREJ]` = ุขโูพ ูพุงุจูฺฉ ุฎุงุฑุฌ
```shell
#!/bin/bash
sudo ip tunnel add gre1 mode gre remote [IPv4-IRAN] local [IPv4-KHAREJ] ttl 255
sudo ip link set gre1 mtu 1420
sudo ip link set gre1 up
sudo ip addr add 10.10.10.2/30 dev gre1
nohup ping 10.10.10.1 &

exit 0
```
### โ 2. ุณุฑูุฑ ุงุฑุงู (ูฺฉุฑูุชฺฉ)

ูุงุฑุฏ ุชุฑููุงู ูฺฉุฑูุชฺฉ ุจุดู ู ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ุฎูุฏฺฉุงุฑ ุงูุชุฑูุณ ุชุงูู ู ุขูพ ุขุฏุฑุณ ุฏุงุฎู ุฑู ุงุฌุงุฏ ฺฉูุฏ.
>โ๏ธ ูฺฉุชู: `[IPv4-IRAN]` = ุขโูพ ูพุงุจูฺฉ ุงุฑุงู | `[IPv4-KHAREJ]` = ุขโูพ ูพุงุจูฺฉ ุฎุงุฑุฌ

```shell
/interface gre add name=gre1 local-address=[IPv4-IRAN] remote-address=[IPv4-KHAREJ] mtu=1420
/ip address add address=10.10.10.1/30 interface=gre1
```
- ุชุงูู GRE ุจู ุฏู ุณุฑูุฑ ุฎุงุฑุฌ ู ุงุฑุงู ุจุฑูุฑุงุฑ ุดุฏู ุงฺฏุฑ ููู ฺุฒ ุฏุฑุณุช ุจุงุดู ุฏุฑ ููุงุจู ุงูุชุฑูุณ ุชุงูู ฺฉููู R (RUN) ุฑู ูโุจูุฏ.

- ุขูพ ูุง ุฏุงุฎู:

- ุณุฑูุฑ ุงุฑุงู โ `10.10.10.1`
- ุณุฑูุฑ ุฎุงุฑุฌ โ `10.10.10.2`

### โ ุชุณุช ูพูฺฏ
**ุณุฑูุฑ ุงุฑุงู:**
```shell
ping 10.10.10.2
```
**ุณุฑูุฑ ุฎุงุฑุฌ:**
```shell
ping 10.10.10.1
```
### ๐ ุงุฑุณุงู ุชุฑุงูฺฉ ูุฑูุฏ ูฺฉุฑูุชฺฉ ุจู ุณุฑูุฑ ููุตุฏ

ุจุฑุง ุงูุชูุงู ุชุฑุงูฺฉ ุจุฑ ุฑู ุชุงูู ูุงุฑุฏ ุชุฑููุงู ูฺฉุฑูุชฺฉ ุจุดู ู ุฏุณุชูุฑุงุช ุฒุฑ ุฑู ูุงุฑุฏ ฺฉูุฏ.
>โ๏ธ ุงฺฏุฑ ูพูุฑุช `Winbox` ุดูุง ูุชูุงูุช ุงุณุชุ ููุฏุงุฑ `dst-port` ุฑุง ุชุบุฑ ุฏูุฏ.
```shell
/ip firewall nat add chain=srcnat action=masquerade
/ip firewall nat add chain=dstnat protocol=tcp dst-port=!8291 action=dst-nat to-addresses=10.10.10.2
```

---
