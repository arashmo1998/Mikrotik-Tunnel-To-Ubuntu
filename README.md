
<div align="center">

# ğŸš€ ÙØ¹Ø§Ù„ Ø³Ø§Ø²ÛŒ ØªØ§Ù†Ù„ Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ø¨Ù‡ Ø§ÙˆØ¨ÙˆÙ†ØªÙˆ Ø¨Ø§ GRE (IPv4 & IPv6) ğŸš€

![Ubuntu](https://img.shields.io/badge/Ubuntu-Server-orange?logo=ubuntu&logoColor=white)
![MikroTik](https://img.shields.io/badge/RouterOS-7.x-blue?logo=mikrotik&logoColor=white)
![GRE](https://img.shields.io/badge/Tunnel-GRE-success?logo=linux&logoColor=white)
![IPv4](https://img.shields.io/badge/IPv4-Supported-brightgreen)
![IPv6](https://img.shields.io/badge/IPv6-Optional-lightgrey)

**Ø¨Ø§ Ø§ÛŒÙ† Ø¢Ù…ÙˆØ²Ø´ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¨ÛŒÙ† Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ùˆ Ø³Ø±ÙˆØ± Ø§ÙˆØ¨ÙˆÙ†ØªÙˆ ÛŒÙ‡ ØªØ§Ù†Ù„ Ø§Ù…Ù† Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒ**

---

### ğŸ”¥ ØªØ§Ù†Ù„ GRE Ø¨Ø± Ø±ÙˆÛŒ IPv4 ğŸ”¥

âœ¨ Ø§Ø² Ù‡Ù…Ø§Ù† Ø§Ø¨ØªØ¯Ø§ÛŒ Ú©Ø§Ø± ÙØ§ÛŒÙ„ÛŒ Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒÚ©Ù†ÛŒÙ… Ú©Ù‡ Ø¯Ø± Ø¯Ø§Ø®Ù„ Ø¢Ù† Ø¯Ø³ØªÙˆØ±Ø§Øª Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ Ùˆ Ù¾Ø³ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒØŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø­ØªÛŒ Ø¨Ø¹Ø¯ Ø§Ø² Ø±ÛŒØ³ØªØ§Ø±Øª Ø³Ø±ÙˆØ± Ù‡Ù… Ø¯ÙˆØ¨Ø§Ø±Ù‡ ÙØ¹Ø§Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.

</div>

---

## ğŸš€ Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡  (IPv4)

### âœ… 1. Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬ (Ø§ÙˆØ¨ÙˆÙ†ØªÙˆ)

- Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± ÙØ§ÛŒÙ„ `rc.local` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒÚ©Ù†ÛŒÙ… Ùˆ Ø¨Ù‡Ø´ Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ø¹Ø¯ Ø§Ø² Ù‡Ø± Ø¨Ø§Ø± Ø±ÛŒØ³ØªØ§Ø±Øª Ø´Ø¯Ù† Ø³Ø±ÙˆØ± Ø±Ùˆ Ù…ÛŒØ¯Ù‡ÛŒÙ…:

```shell
sudo nano /etc/rc.local && sudo chmod +x /etc/rc.local && sudo bash /etc/rc.local
```

- Ù…ØªÙ† Ø²ÛŒØ± Ø±Ø§ Ø¯Ø± ÙØ§ÛŒÙ„ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ… Ùˆ ÙØ§ÛŒÙ„ Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…:

> âš ï¸ **Ù†Ú©ØªÙ‡:** `[IPv4-IRAN]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© Ø§ÛŒØ±Ø§Ù† | `[IPv4-KHAREJ]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© Ø®Ø§Ø±Ø¬

```shell
#!/bin/bash
sudo ip tunnel add gre1 mode gre remote [IPv4-IRAN] local [IPv4-KHAREJ] ttl 255
sudo ip link set gre1 mtu 1420
sudo ip link set gre1 up
sudo ip addr add 10.10.10.2/30 dev gre1
nohup ping 10.10.10.1 &

exit 0
```

---

### âœ… 2. Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù† (Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ©)

ÙˆØ§Ø±Ø¯ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ø¨Ø´ÛŒÙ† Ùˆ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø²ÛŒØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ ØªØ§ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ ØªØ§Ù†Ù„ Ùˆ Ø¢ÛŒÙ¾ÛŒ Ø¢Ø¯Ø±Ø³ Ø¯Ø§Ø®Ù„ÛŒ Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯:

> âš ï¸ **Ù†Ú©ØªÙ‡:** `[IPv4-IRAN]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© Ø§ÛŒØ±Ø§Ù† | `[IPv4-KHAREJ]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© Ø®Ø§Ø±Ø¬

```shell
/interface gre add name=gre1 local-address=[IPv4-IRAN] remote-address=[IPv4-KHAREJ] mtu=1420
/ip address add address=10.10.10.1/30 interface=gre1
```

âœ… ØªØ§Ù†Ù„ GRE Ø¨ÛŒÙ† Ø¯Ùˆ Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬ Ùˆ Ø§ÛŒØ±Ø§Ù† Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯Ù‡ Ùˆ Ø§Ú¯Ø± Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¯Ø±Ø³Øª Ø¨Ø§Ø´Ù‡ Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ ØªØ§Ù†Ù„ Ú©Ù„Ù…Ù‡ **R (RUN)** Ø±Ùˆ Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒØ¯.

---

<div align="center">

### ğŸŒ Ø¢ÛŒÙ¾ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ

| Ø³Ø±ÙˆØ± | Ø¢ÛŒÙ¾ÛŒ Ø¯Ø§Ø®Ù„ÛŒ |
|------|------------|
| ğŸ‡®ğŸ‡· Ø§ÛŒØ±Ø§Ù† | `10.10.10.1` |
| ğŸŒ Ø®Ø§Ø±Ø¬ | `10.10.10.2` |

</div>

---

### âœ… ØªØ³Øª Ù¾ÛŒÙ†Ú¯

**Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†:**

```shell
ping 10.10.10.2
```

**Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬:**

```shell
ping 10.10.10.1
```

---

### ğŸ”„ Ø§Ø±Ø³Ø§Ù„ ØªØ±Ø§ÙÛŒÚ© ÙˆØ±ÙˆØ¯ÛŒ Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù…Ù‚ØµØ¯

Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ ØªØ±Ø§ÙÛŒÚ© Ø¨Ø± Ø±ÙˆÛŒ ØªØ§Ù†Ù„ ÙˆØ§Ø±Ø¯ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ø¨Ø´ÛŒÙ† Ùˆ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø²ÛŒØ± Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:

> âš ï¸ Ø§Ú¯Ø± Ù¾ÙˆØ±Øª `Winbox` Ø´Ù…Ø§ Ù…ØªÙØ§ÙˆØª Ø§Ø³ØªØŒ Ù…Ù‚Ø¯Ø§Ø± `dst-port` Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯.

```shell
/ip firewall nat add chain=srcnat action=masquerade
/ip firewall nat add chain=dstnat protocol=tcp dst-port=!8291 action=dst-nat to-addresses=10.10.10.2
```


---

<div align="center">

## ğŸ”¥ ØªØ§Ù†Ù„ GRE Ø¨Ø± Ø±ÙˆÛŒ IPv6 ğŸ”¥

![IPv6](https://img.shields.io/badge/IPv6-Full%20Support-blueviolet?logo=ipv6&logoColor=white)

âœ¨ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù…Ø´Ø§Ø¨Ù‡ Ù…Ø±Ø§Ø­Ù„ IPv4 Ø§Ø³Øª Ùˆ ØªÙ†Ù‡Ø§ ØªÙØ§ÙˆØª Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ IPv6 Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ØªØ§Ù†Ù„ Ø§Ø³Øª.

</div>

---

## ğŸš€ Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ (IPv6)

### âœ… 1. Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬ (Ø§ÙˆØ¨ÙˆÙ†ØªÙˆ)

- Ø§Ø¨ØªØ¯Ø§ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯ ØªØ§ ØªØ§Ù†Ù„ GRE Ø¨Ø§ IPv6 Ø³Ø§Ø®ØªÙ‡ Ø´ÙˆØ¯:

> âš ï¸ **Ù†Ú©ØªÙ‡:** `[IPv6-IRAN]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© IPv6 Ø§ÛŒØ±Ø§Ù† | `[IPv6-KHAREJ]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© IPv6 Ø®Ø§Ø±Ø¬

```shell
sudo ip -6 tunnel add GRE6Tun_IR mode ip6gre remote [IPv6-IRAN] local [IPv6-KHAREJ]
sudo ip addr add 192.168.55.2/30 dev GRE6Tun_IR
sudo ip link set GRE6Tun_IR mtu 1400
sudo ip link set GRE6Tun_IR up
nohup ping 192.168.55.1 &
```

---

### âœ… 2. Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù† (Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ©)

- ÙˆØ§Ø±Ø¯ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ø´ÙˆÛŒØ¯ Ùˆ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø²ÛŒØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:

> âš ï¸ **Ù†Ú©ØªÙ‡:** `[IPv6-IRAN]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© IPv6 Ø§ÛŒØ±Ø§Ù† | `[IPv6-KHAREJ]` = Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù¾Ø§Ø¨Ù„ÛŒÚ© IPv6 Ø®Ø§Ø±Ø¬

```shell
/interface gre6 add name=GRE6Tun_IR local=[IPv6-IRAN] remote=[IPv6-KHAREJ] mtu=1400
/ip address add address=192.168.55.1/30 interface=GRE6Tun_IR
```

âœ… Ù¾Ø³ Ø§Ø² Ø§Ø¬Ø±Ø§ÛŒ ØµØ­ÛŒØ­ØŒ ÙˆØ¶Ø¹ÛŒØª Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø¨Ø§ÛŒØ¯ **R (RUN)** Ø¨Ø§Ø´Ø¯.

---

<div align="center">

### ğŸŒ Ø¢ÛŒÙ¾ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ (ØªØ§Ù†Ù„ IPv6)

| Ø³Ø±ÙˆØ± | Ø¢ÛŒÙ¾ÛŒ Ø¯Ø§Ø®Ù„ÛŒ |
|------|------------|
| ğŸ‡®ğŸ‡· Ø§ÛŒØ±Ø§Ù† | `192.168.55.1` |
| ğŸŒ Ø®Ø§Ø±Ø¬ | `192.168.55.2` |

</div>

---

### âœ… ØªØ³Øª Ù¾ÛŒÙ†Ú¯

**Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†:**

```shell
ping 192.168.55.2
```

**Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬:**

```shell
ping 192.168.55.1
```

---

### ğŸ”„ Ø§Ø±Ø³Ø§Ù„ ØªØ±Ø§ÙÛŒÚ© ÙˆØ±ÙˆØ¯ÛŒ Ù…ÛŒÚ©Ø±ÙˆØªÛŒÚ© Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù…Ù‚ØµØ¯ (IPv6)

> âš ï¸ Ø§Ú¯Ø± Ù¾ÙˆØ±Øª `Winbox` Ø´Ù…Ø§ Ù…ØªÙØ§ÙˆØª Ø§Ø³ØªØŒ Ù…Ù‚Ø¯Ø§Ø± `dst-port` Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯.

```shell
/ip firewall nat add chain=srcnat action=masquerade
/ip firewall nat add chain=dstnat protocol=tcp dst-port=!8291 action=dst-nat to-addresses=192.168.55.2
```

---
<div align="center">

âœ… **Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡:** [Arash Mohebbati](https://github.com/arashmohebbati)  
â­ Ø§Ú¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø±Ø§Øª Ù…ÙÛŒØ¯ Ø¨ÙˆØ¯ØŒ ÛŒÚ© Ø³ØªØ§Ø±Ù‡ Ø¨Ù‡ Ø±ÛŒÙ¾Ùˆ Ø¨Ø¯Ù‡!

</div>
